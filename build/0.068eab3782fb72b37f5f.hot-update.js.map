{"version":3,"file":"0.068eab3782fb72b37f5f.hot-update.js","sources":["webpack:///src/server/app.js"],"sourcesContent":["import initRouter from './router';\nimport './model';\n\nconst bodyParser = require('body-parser');\nconst express = require('express');\nconst path = require('path');\nconst session = require('express-session');\nconst redisStore = require('connect-redis');\nconst redis = require('./redis').default;\n// const path = require('path');\n// const cors = require('cors');\n\nconsole.log(redis);\n\nexport default function initServer (app) {\n\n  // app.use(function (req, res, next) {\n  //   res.header('Access-Control-Allow-Origin', '*');        \n  //   res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n  //   res.header('Access-Control-Allow-Headers', 'Content-Type');\n  //   res.header('Access-Control-Allow-Credentials','true');\n  //   next();\n  // })\n\n  app.use(bodyParser.json());\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(session({\n    secret: 'This is sparker server',\n    cookie: {maxAge: 60 * 1000 * 60 * 24 * 14},\n    resave: false,\n    saveUninitialized: true,\n    store: new redisStore({\n      client: redis,\n    })\n  }));\n  console.log(path.resolve(__dirname + '../../../build/public'));\n  console.log(path.resolve(__dirname + '/static'))\n  app.use(express.static(path.resolve(__dirname + '../../../build/public')));\n  app.use(express.static(path.resolve(__dirname + '../../../build/static')));  \n  app.use(express.static(path.resolve(__dirname + '../../../build')));\n  \n  initRouter(app);\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// src/server/app.js"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AALA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;A","sourceRoot":""}